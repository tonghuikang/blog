---
layout: post
title: How to use everything to build verification environments
---
You should make better use of data by building verification environment - instead of merely training the model to predict the next token.



# You can verify with the correct objective

You have a math problem and a solution you consider correct.

> There exists a unique increasing geometric sequence of five 2-digit positive integers. What is their sum?

The correct answer is 211. [^1] With this correct objective, you can generate reasonable chains of thought that arrives at this correct objective. You can train the model to generate chains of thought that arrive at the correct objective, and avoiding generating chains of thought that arrive at the wrong objective. This is how you can use a correct objective to build a verification environment.

[^1]: A longer writeup on this example is available [here](https://www.quora.com/What-is-reinforcement-fine-tuning/answer/Tong-Hui-Kang-1).




# You can verify with incomplete objectives

You can build a verification environment even if there isn't a single correct objective.

Someone shared their resume in a forum and sought comments on their resume. The forum provided some comments. [This](https://www.reddit.com/r/EngineeringResumes/comments/1mbzxsf/student_this_resume_got_me_10_interviews_and_1/) is one example of a forum.

However, the comments are not complete. Not everything is nitpicked [^3].

[^3]: For example - I would nitpick "treatment efficiency of 15%" is ambiguous. When reading resumes, I read the first bullet point of the topmost experience. I have general comments [here](https://blog.huikang.dev/2022/10/17/resume-advice.html).

Unlike the math problem, there isn't one correct answer. There are many correct answers, some more valuable than the others. Objectives found in the forum responses is not complete.

However, we can still build a verification environment. Each of individual responses can be collated. We could also collate external resources not found in the forum post - the forum has a [wiki](https://www.reddit.com/r/EngineeringResumes/wiki/index/) on how to craft your resume. The forum responses, external data, and general instructions (e.g. do not criticize something that isn't even in the resume) can be used to build a rubric to score responses.

We can now score responses from generated by the LLM. This way we can train the LLM to provide the best comments according to the rubrics.





# You can verify with intermediate objectives


Consider the following Problem 6 of the International Mathematical Olympaid.

> Consider a 2025 x 2025 grid of unit squares. Matlida wishes to place on the grid some rectangular tiles, possibly of different sizes, such that each side of every tile lies on a grid line and every unit square is covered by at most one tile.  
> 
> Determine the minimum number of tiles Matlida needs to place so that each row and each column of the grid has exactly one unit square that is not covered by any tile.

Naively, you would think of a solution like this

```
â¬œ ğŸŸ© ğŸŸ© ğŸŸ©
ğŸŸ© â¬œ ğŸŸ¥ ğŸŸ¥
ğŸŸ¥ ğŸŸ¥ â¬œ ğŸŸ©
ğŸŸ© ğŸŸ© ğŸŸ© â¬œ
```

The [solution](https://web.evanchen.cc/exams/IMO-2025-notes.pdf) looks something like this. (For the purposes of illustrating how to verify with intermediate objectives, we ignore the requirement to prove the lower bound).

For 4 Ã— 4

```
ğŸŸ¥ â¬œ ğŸŸ¥ ğŸŸ¥
ğŸŸ¥ ğŸŸ© ğŸŸ© â¬œ
â¬œ ğŸŸ© ğŸŸ© ğŸŸ¥
ğŸŸ¥ ğŸŸ¥ â¬œ ğŸŸ¥
```

For 9 Ã— 9

```
ğŸŸ© ğŸŸ© â¬œ ğŸŸ© ğŸŸ© ğŸŸ© ğŸŸ¥ ğŸŸ¥ ğŸŸ¥
ğŸŸ© ğŸŸ© ğŸŸ¥ ğŸŸ¥ ğŸŸ¥ â¬œ ğŸŸ¥ ğŸŸ¥ ğŸŸ¥
ğŸŸ© ğŸŸ© ğŸŸ¥ ğŸŸ¥ ğŸŸ¥ ğŸŸ© ğŸŸ© ğŸŸ© â¬œ
ğŸŸ¥ â¬œ ğŸŸ¥ ğŸŸ¥ ğŸŸ¥ ğŸŸ© ğŸŸ© ğŸŸ© ğŸŸ¥
ğŸŸ¥ ğŸŸ© ğŸŸ© ğŸŸ© â¬œ ğŸŸ© ğŸŸ© ğŸŸ© ğŸŸ¥
ğŸŸ¥ ğŸŸ© ğŸŸ© ğŸŸ© ğŸŸ¥ ğŸŸ¥ ğŸŸ¥ â¬œ ğŸŸ¥
â¬œ ğŸŸ© ğŸŸ© ğŸŸ© ğŸŸ¥ ğŸŸ¥ ğŸŸ¥ ğŸŸ© ğŸŸ©
ğŸŸ¥ ğŸŸ¥ ğŸŸ¥ â¬œ ğŸŸ¥ ğŸŸ¥ ğŸŸ¥ ğŸŸ© ğŸŸ©
ğŸŸ¥ ğŸŸ¥ ğŸŸ¥ ğŸŸ© ğŸŸ© ğŸŸ© â¬œ ğŸŸ© ğŸŸ©
```

To make best use of this data, we should not merely award full credit for producing the correct construction, and no credit for not producing the correct construction.

Even though the grading rubric does not provide partial credit, we should still give credit for the following observations

- 2025 is a perfect square (45 Ã— 45)
- You can do better than $2 n - 2$ squares
- Optimal construction for 4 Ã— 4 grid
- Optimal construction for 9 Ã— 9 grid
- Optimal construction for 16 Ã— 16 grid

By building a verification environment that allows for intermediate objectives can reward the model for finding intermediate results, and more likely eventually be able to generate and learn the full solution. This will hopefully generalize being more likely at finding intermediate results and full solutions to novel problems. We should make use of the data we have to build verification environments with intermediate objectives.





# You can verify with incorrect data

You are given my Codeforces solutions that are [wrong](https://codeforces.com/submissions/huikang). Instead of discarding these solutions, you can use my solution to build verification environment.

This is how you can use my data to implement more verifiable tasks

- Determining whether my solution is wrong. My solution may look correct, but there is actually something wrong in it. An LLM that is good at coding should be determine whether my solution is wrong.
- Changing the minimum amount of code to make my solution pass.
- Finding a test case where my solution will fail.

By training on incorrect data, you improve the LLM's ability to identify mistakes and recover from mistakes.



# Scaling verification

Building verification environments should be automated. The design of verification environments should be automated. Verification environments can be used across different training runs. I suspect LLM providers at the frontier already have some working system of ingesting data and producing verification environments.